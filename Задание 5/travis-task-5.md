# Решение задания: Оптимальное расписание. Стратегия разделения процессоров
### Вариант 1:

| Задания      |  A  |  B  |  C  |  D  |  E  |  F  |
|:-------------|:---:|:---:|:---:|:---:|:---:|:---:|
| Длительность | 38  | 32  | 23  | 11  |  5  |  5  |

| Исполнители           |  1  |  2  |  3  |
|:----------------------|:---:|:---:|:---:|
| Производительность(p) |  3  |  2  |  1  |

## Решение
Найдем длительность оптимального расписания по формуле:

$$T_{min} = \frac {\sum V_i}{\sum p_j} = \frac {38 + 32 + 23 + 11 + 5 + 5}{3 + 2 + 1} = \frac{114}{6} = 19$$

**Принцип:** чем выше длительность задания, тем выше его приоритет. На задачи с высшим приоритетом назначаются исполнители с высшей производительностью.

---

### Шаг 1: Интервал 0 – 6
Назначаем: **A** на **P1**, **B** на **P2**, **C** на **P3**.
Уравнение для поиска $t$: $38 - 3t = 32 - 2t \implies \mathbf{t = 6}$.

**Состояние задач после Шага 1 ($t=6$):**
| Задания      |  A  |  B  |  C  |  D  |  E  |  F  |
|:-------------|:---:|:---:|:---:|:---:|:---:|:---:|
| Длительность | 20  | 20  | 17  | 11  |  5  |  5  |
| Приоритет    |  1  |  1  |  2  |  3  |  4  |  4  |
| Исполнитель  | P1  | P2  | P3  |  -  |  -  |  -  |

---

### Шаг 2: Интервал 6 – 8
Задачи **A** и **B** сравнялись ($V=20$). Средняя производительность на задачу: $p_{AB} = 2,5$.
Уравнение: $20 - 2,5t = 17 - t \implies 1,5t = 3 \implies \mathbf{t = 2}$.

**Состояние задач после Шага 2 ($t=2$):**
| Задания      |  A  |  B  |  C  |  D  |  E  |  F  |
|:-------------|:---:|:---:|:---:|:---:|:---:|:---:|
| Длительность | 15  | 15  | 15  | 11  |  5  |  5  |
| Приоритет    |  1  |  1  |  1  |  2  |  3  |  4  |
| Исполнитель  | <--- P1, P2 ---> | P3  |  -  |  -  |  -  |

---

### Шаг 3: Интервал 8 – 10
Задачи **A, B, C** сравнялись ($V=15$). Средняя производительность: $p_{ABC} = \frac{3+2+1}{3} = 2$.
Уравнение: $15 - 2t = 11 \implies 2t = 4 \implies \mathbf{t = 2}$.

**Состояние задач после Шага 3 ($t=2$):**
| Задания      |  A  |  B  |  C  |  D  |  E  |  F  |
|:-------------|:---:|:---:|:---:|:---:|:---:|:---:|
| Длительность | 11  | 11  | 11  | 11  |  5  |  5  |
| Приоритет    |  1  |  1  |  1  |  1  |  2  |  2  |
| Исполнитель  | <--- P1, P2, P3 ---> |  -  |  -  |  -  |

---

### Шаг 4: Интервал 10 – 14
Задачи **A, B, C, D** сравнялись ($V=11$). Средняя производительность: $p_{ABCD} = \frac{6}{4} = 1,5$.
Уравнение: $11 - 1,5t = 5 \implies 1,5t = 6 \implies \mathbf{t = 4}$.

**Состояние задач после Шага 4 ($t=4$):**
| Задания      |  A  |  B  |  C  |  D  |  E  |  F  |
|:-------------|:---:|:---:|:---:|:---:|:---:|:---:|
| Длительность |  5  |  5  |  5  |  5  |  5  |  5  |
| Приоритет    |  1  |  1  |  1  |  1  |  1  |  1  |
| Исполнитель  | <------- P1, P2, P3 -------> |  -  |  -  |

---

### Шаг 5: Интервал 14 – 19
Все задачи сравнялись. Средняя производительность: $p_{все} = \frac{6}{6} = 1$.
Время до завершения: $5 / 1 = \mathbf{5}$.

**Итоговое время:** $6 + 2 + 2 + 4 + 5 = 19$.

---

## Ответ
### Диаграмма Ганта (Циклическое смещение)

```mermaid
gantt
    title Диаграмма Ганта - Вариант 1
    dateFormat X
    axisFormat %s
    
    section Исполнитель 1
    A               :0, 6
    A               :6, 7
    B               :7, 8
    A               :8, 9
    B               :9, 10
    C               :10, 11
    D               :11, 12
    A               :12, 13
    B               :13, 14
    A               :14, 15
    B               :15, 16
    C               :16, 17
    D               :17, 18
    E               :18, 19

    section Исполнитель 2
    B               :0, 6
    B               :6, 7
    A               :7, 8
    B               :8, 9
    C               :9, 10
    A               :10, 11
    C               :11, 12
    D               :12, 13
    A               :13, 14
    B               :14, 15
    C               :15, 16
    D               :16, 17
    E               :17, 18
    F               :18, 19

    section Исполнитель 3
    C               :0, 6
    C               :6, 8
    C               :8, 9
    A               :9, 10
    B               :10, 11
    A               :11, 12
    B               :12, 13
    C               :13, 14
    D               :14, 15
    E               :15, 16
    F               :16, 17
    A               :17, 18
    B               :18, 19

### Объяснение построения диаграммы:

Стратегия разделения процессоров подразумевает, что когда несколько исполнителей назначены на группу задач, они распределяют свои усилия поровну между ними. Чтобы избежать ситуации, когда одну задачу делают два человека одновременно, применяется **циклическое смещение** (Round-robin):

1.  **Интервал 0–6 сек (3 задачи на 3 исполнителя):**
    Каждый исполнитель закреплен за одной уникальной задачей ($P_1 \to A$, $P_2 \to B$, $P_3 \to C$).

2.  **Интервал 6–8 сек (2 задачи A и B делят мощности P1 и P2):**
    Интервал длительностью $t=2$ делится на 2 равные части по 1 секунде. В первой части $P_1$ делает $A$, во второй — $B$. У $P_2$ порядок обратный ($B$, затем $A$). Исполнитель $P_3$ в это время единолично продолжает выполнять задачу $C$.

3.  **Интервал 8–10 сек (3 задачи A, B, C на 3 исполнителя):**
    Интервал $t=2$ делится на 3 равные части (по $\approx 0.66$ сек). Задачи распределяются со сдвигом: 
    * **P1**: $A \to B \to C$
    * **P2**: $B \to C \to A$
    * **P3**: $C \to A \to B$

4.  **Интервал 10–14 сек (4 задачи A, B, C, D на 3 исполнителя):**
    Интервал $t=4$ делится на 4 части по 1 секунде. Каждый исполнитель последовательно переключается между задачами, смещаясь на один шаг относительно коллеги, чтобы задачи выполнялись параллельно.

5.  **Интервал 14–19 сек (6 задач на 3 исполнителя):**
    Интервал $t=5$ делится на 6 частей ($\approx 0.83$ сек). Это позволяет всем 6 задачам продвигаться к завершению равномерно и закончиться одновременно в точке $T = 19$.