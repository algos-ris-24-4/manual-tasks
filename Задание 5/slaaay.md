# Вариант 9

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность | 42  | 26  | 23  |  7  |  7  |

| Исполнители           |  1  |  2  |  3  |
|:----------------------|:---:|:---:|:---:|
| Производительность(p) |  4  |  2  |  1  |

## Решение

Найдем минимальное время, за которое исполнители смогли бы выполнить все задания.<br>
Для этого общий объем работы необходимо разделить на сумму производительностей исполнителей:

$$
T_{min} = \frac{Q}{P} = \frac{42 + 26 + 23 + 7 + 7}{4 + 2 + 1} = \frac{105}{7} = 15
$$

Оптимальное время, за которое могут выполняться все задания, должно быть не меньше 15: $T_{min} \geq 15$

### Принцип распределения исполнителей по задачам

В общем случае (когда задачи не равны по объёму работы) распределение задач исполнителям будет определяться следующим образом: исполнителю с наибольшей производительностью даем задачу с наибольшим объемом работы.<br><br>
В случае, если $n$ задач имеют одинаковый объем работы, то исполнители будут работать на каждой из задач одинаковое количество времени, тем самым работая с производительностью $P = \frac{\text{объем задания}}{n}$

### Распределение первое:
На начальный момент времени объем работы у каждой задачи выглядит следующим образом:

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность | 42  | 26  | 23  |  7  |  7  |

Распределяем исполнителей: <br>
- Первому исполнителю с производительностью 4 выдаем задачу A;
- Второму исполнителю с производительностью 2 выдаем задачу B;
- Третьему исполнителю с производительностью 1 выдаем задачу C. <br>

Получается такое распределение:

$$
P_1 \rightarrow A
$$

$$
P_2 \rightarrow B
$$

$$
P_3 \rightarrow C
$$

В результате выполнения задач в какой-то момент объем задач между какими-то задачами сравняется, что будет обозначать необходимость изменения распределения.<br>
Для определения момента, когда задачи сравняются необходимо: 
- Выделить задачи, которые могут сравняться;
- Составить уравнения, которые позволят понять момент времени t, когда задачи сравняются.<br>

Могут сравняться процессы:

$$
A = B; \text{ (1)}
$$

$$
B = C; \text{ (2)}
$$

$$
C = D; \text{ (3)}
$$

Составим уравнения и решим их:

$$
42 - 4t_1 = 26 - 2t_1 \Rightarrow 2t_1 = 16 \Rightarrow t_1 = 8 \text{ (1)}
$$

$$
26 - 2t_2 = 23 - t_2 \Rightarrow t_2 = 3 \text{ (2)}
$$

$$
23 - t_3 = 7 \Rightarrow t_3 = 16 \text{ (3)}
$$

Минимальное время до события равенства задач: $t = 3$<br>

После работы исполнителей остаточный объем работы задач: 

$$
A(42) = 42 - 4 \cdot 3 = 30;
$$

$$
B(26) = 26 - 2 \cdot 3 = 20;
$$

$$
C(23) = 23 - 1 \cdot 3 = 20
$$

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность | 30  | 20  | 20  |  7  |  7  |

### Распределение второе:

Распределяем исполнителей: <br>
Задачи B и C имеют равный объем работы, поэтому объединяем их в группу, в которой исполнители $P_2$ и $P_3$ будут работать равное количество времени, меняя задачи циклически.<br><br>

Задача $BC$ имеет объем работы 20 ($BC = 20$), суммарная производительность исполнителей, работающих над ней:

$$
P_{sum} = \frac{2 + 1}{2} = \frac{3}{2}
$$

Задачи, которые могут сравняться:
$$
A = BC;
$$

Составим и решим уравнение для определения момента времени, когда объем работы у задач сравняется:

$$
30 - 4t = 20 - \frac{3}{2}t;
$$

$$
10 = \frac{5}{2}t;
$$

$$
t = 4;
$$

После работы исполнителей остаточный объем работы задач: 

$$
A(30) = 30 - 4 \cdot 4 = 14;
$$

$$
B(20) = 20 - \frac{3}{2} \cdot 4 = 14;
$$

$$
C(20) = 20 - \frac{3}{2} \cdot 4 = 14;
$$

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность | 14  | 14  | 14  |  7  |  7  |

### Распределение третье:

Задачи с $A$ по $C$ образуют общую группу.

Задача $ABC$ имеет объем работы 14 ($ABC = 14$), исполнители, которые будут работать над ней, имеют суммарную производительность:

$$
P_{sum} = \frac{4 + 2 + 1}{3} = \frac{7}{3}
$$

Задачи, которые могут сравняться:
$$
ABC = D;
$$

Составим и решим уравнение для определения момента времени, когда объем работы у задач сравняется:

$$
14 - \frac{7}{3}t = 7;
$$

$$
7 = \frac{7}{3}t;
$$

$$
t = 3;
$$

После работы исполнителей остаточный объем работы задач: 

$$
A(14) = 14 - \frac{7}{3} \cdot 3 = 7;
$$

$$
B(14) = 14 - \frac{7}{3} \cdot 3 = 7;
$$

$$
C(14) = 14 - \frac{7}{3} \cdot 3 = 7;
$$

$$
D(7) = 7 - 0 = 7;
$$

$$
E(7) = 7 - 0 = 7;
$$

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность |  7  |  7  |  7  |  7  |  7  |

### Распределение четвертое:

Все задачи имеют одинаковый объем работы, поэтому они объединяются в одну общую группу.

Задача $ABCDE$ имеет объем работы 7 ($ABCDE = 7$), суммарная производительность исполнителей:

$$
P_{sum} = \frac{4 + 2 + 1}{5} = \frac{7}{5}
$$

Объем работы группы может сравняться с 0, т.е. работа закончится.<br>

Составим и решим уравнение для определения момента времени, когда объем работы у задач закончится:

$$
7 - \frac{7}{5}t = 0;
$$

$$
7 = \frac{7}{5}t;
$$

$$
t = 5;
$$

### Ответ

Длительность оптимального расписания составляет $15$.

Диаграмма Ганта:

```mermaid
gantt
    title Диаграмма Ганта
    dateFormat X
    axisFormat %s
    tickInterval 1
    section Исполн. 1
    A : a1, 0, 7
    B : b1, after a1, 1
    C : c1, after b1, 1
    A : a2, after c1, 1
    D : d1, after a2, 1
    E : e1, after d1, 1
    A : a3, after e1, 1
    B : b2, after a3, 1
    C : c2, after b2, 1
    section Исполн. 2
    B : b3, 0, 3
    C : c3, after b3, 4
    A : a4, after c3, 1
    B : b4, after a4, 1
    C : c4, after b4, 1
    D : d2, after c4, 1
    E : e2, after d2, 1
    A : a5, after e2, 1
    B : b5, after a5, 1
    C : c5, after b5, 1
    section Исполн. 3
    C : c6, 0, 3
    B : b6, after c6, 4
    C : c7, after b6, 1
    A : a6, after c7, 1
    B : b7, after a6, 1
    D : d3, after b7, 1
    E : e3, after d3, 1
    A : a7, after e3, 1
    B : b8, after a7, 1
    C : c8, after b8, 1
```