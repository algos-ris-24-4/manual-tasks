<img width="946" height="610" alt="image" src="https://github.com/user-attachments/assets/ac03a324-04d9-49c9-9b68-027f46a1e61e" /># Решение задачи о максимальном потоке

### Вариант 4:

#### Пропускная способность дуг сети:

|          Дуги          | sa  | sc  | ca  | at  | ab  | ad  | cd  | dt  | bd  |
| :--------------------: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| Пропускная способность | 10  | 10  |  2  |  3  |  9  |  6  |  9  | 12  |  2  |

Построим сеть с источником s, стоком t и указанными пропускными способностями дуг.

<img width="820" height="491" alt="image" src="https://github.com/user-attachments/assets/2d89646d-f5f0-4072-907e-e40553e45b7e" />


Построим остаточную сеть. Так как изначально поток в сети не задан, все дуги сети являются пустыми (локальный поток равен нулю), соответственно в остаточную сеть необходимо вынести обратную дугу с весом равным пропускной способности.

<img width="1163" height="766" alt="image" src="https://github.com/user-attachments/assets/a744cd6d-7e37-4697-85db-c43b13990bd2" />


2. Проведем поиск увеличивающего пути в остаточной сети
   В остаточной сети найден увеличивающий путь t -> a -> s. Минимальный вес дуг на этом пути равен 3.

<img width="941" height="582" alt="image" src="https://github.com/user-attachments/assets/4df27c48-3935-4576-9fc7-5a2338116014" />


Уменьшим вес дуг на найденном пути, дуги для которых вес стал нулевым удалим из остаточной сети.

<img width="813" height="535" alt="image" src="https://github.com/user-attachments/assets/2dbe441b-314e-4360-902c-6a6c508007af" />


Скорректируем соответствующим образом локальные потоки в исходной сети. Первым числом будем указывать локальный поток, вторым пропускную способность дуги.

<img width="856" height="559" alt="image" src="https://github.com/user-attachments/assets/eee134a4-ea6b-49a4-be34-00c0e9b970da" />


3. Продолжим поиск увеличивающего пути в остаточной сети:

<img width="1105" height="686" alt="image" src="https://github.com/user-attachments/assets/a53c845b-4d8f-4af6-83d1-a6c528057692" />


В остаточной сети найден увеличивающий путь t -> d -> c -> s. Минимальный вес дуг на этом пути равен 9.
Уменьшим вес дуг на найденном пути, дуги для которых вес стал нулевым удалим из остаточной сети.

<img width="992" height="622" alt="image" src="https://github.com/user-attachments/assets/b44325f5-9ae1-4694-87cf-ed6463ce27ee" />


Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="912" height="583" alt="image" src="https://github.com/user-attachments/assets/dd7ad7e3-b142-430f-9bbd-63cf2d15aa76" />


4. Продолжим поиск увеличивающего пути в остаточной сети:

<img width="1048" height="691" alt="image" src="https://github.com/user-attachments/assets/602711ec-b1d3-45ec-b362-1761870681d4" />


В остаточной сети найден увеличивающий путь t -> b -> a -> s.
Минимальный вес дуг на этом пути равен 6.
Уменьшим вес дуг на найденном пути, дуги для которых вес стал нулевым удалим из остаточной сети.

<img width="729" height="452" alt="image" src="https://github.com/user-attachments/assets/a4ced7ff-77f0-4ec5-957a-113834e413da" />


Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="1061" height="683" alt="image" src="https://github.com/user-attachments/assets/564bb82f-2f73-4155-b5cd-6ae723c5f6d4" />


5. Продолжим поиск увеличивающего пути в остаточной сети.

<img width="946" height="610" alt="image" src="https://github.com/user-attachments/assets/a0e416ac-9fe1-4fc7-a31d-4da6ee2bc9a3" />


В остаточной сети найден увеличивающий путь t -> d -> b -> a -> s.
Минимальный вес дуг на этом пути равен 1.

Уменьшим вес дуг на найденном пути, дуги для которых вес стал нулевым удалим из остаточной сети.

<img width="853" height="538" alt="image" src="https://github.com/user-attachments/assets/863f486b-f525-441b-80b1-0801372e2a03" />


Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="1076" height="670" alt="image" src="https://github.com/user-attachments/assets/ec822124-bc27-47fa-bbe0-b762c31aea80" />


6. Продолжим поиск увеличивающего пути в остаточной сети.

<img width="877" height="525" alt="image" src="https://github.com/user-attachments/assets/df113f3b-5d6e-4703-aa4d-411129a9e75b" />


В остаточной сети найден увеличивающий путь t -> d -> b -> a -> с -> s.
Минимальный вес дуг на этом пути равен 1.

Уменьшим вес дуг на найденном пути, дуги для которых вес стал нулевым удалим из остаточной сети.

<img width="1214" height="752" alt="image" src="https://github.com/user-attachments/assets/a44b61c2-2dd1-4d22-b51d-e2de44ad7632" />


Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="632" height="394" alt="image" src="https://github.com/user-attachments/assets/d1dc4aa7-d638-4773-85fc-4d672fb3e2b5" />


7. Продолжим поиск увеличивающего пути в остаточной сети.

В остаточной сети не найдено увеличивающих путей, следовательно, алгоритм завершил работу и найденный поток величиной 20 является максимальным для данной сети.

<img width="1097" height="722" alt="image" src="https://github.com/user-attachments/assets/9d6eb8ff-092d-42ca-b5c3-d016e8dc7343" />


8. Проверим значение максимального потока перебором всех разрезов сети.

Для сети из 6 вершин нужно найти 2<sup>6 - 2</sup> = 2<sup>4</sup> = 16 разрезов.

| №   | V<sub>1</sub> | V<sub>2</sub> | Пропускная способность разреза |
| --- | :------------ | :------------ | :----------------------------: |
| 1   | s             | a, b, c, d, t |          10 + 10 = 20          |
| 2   | s, a          | b, c, t       |     5 + 4 + 6 + 3 + 4 = 22     |
| 3   | s, b          | a, c, t       |         7 + 5 + 8 = 20         |
| 4   | s, c          | a, b, t       |         7 + 4 + 9 = 20         |
| 5   | s, a, b       | c, t          |       5 + 6 + 8 + 4 = 23       |
| 6   | s, a, c       | b, t          |       9 + 4 + 3 + 4 = 20       |
| 7   | s, b, c       | a, t          |           7 + 8 = 15           |
| 8   | s, a, b, c    | t             |           4 + 8 = 12           |

Минимальная пропускная способность разреза равна 12 ( {s, a, b, c} / {t} ), что совпадает с найденной величиной максимального потока в сети.

## Ответ

Максимальный поток в сети равен 20, он реализуется следующим локальными потоками:

<img width="632" height="394" alt="image" src="https://github.com/user-attachments/assets/7647e502-2808-4ee7-ae7f-573566e9d52c" />

