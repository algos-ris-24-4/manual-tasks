# Решение задачи о максимальном потоке
### Вариант 9:
#### Пропускная способность дуг сети:

|          Дуги          | sa | sb | sс | aс | ab | cb | at | bt |
|:----------------------:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| Пропускная способность | 7  | 4  | 5  | 6  | 3  | 9  | 4  | 8  |

Построим сеть с источником s, стоком t и указанными пропускными способностями дуг.

<img width="831" height="471" alt="image" src="https://github.com/user-attachments/assets/934d1688-a58e-4b39-873c-2de7f283c87a" />

Построим остаточную сеть. Так как изначально поток в сети не задан, все дуги сети являются пустыми (локальный поток равен нулю), соответственно в остаточную сеть необходимо вынести обратную дугу с весом равным пропускной способности.

<img width="1003" height="584" alt="image" src="https://github.com/user-attachments/assets/1d8004c7-c2cb-44f5-9613-28a5d3a8414e" />

Далее, чтобы понять, можно ли увеличить поток данной сети проведем поиск увеличивающего пути в остаточной сети
В остаточной сети найден увеличивающий путь t -> a -> s. Минимальный вес дуг на этом пути равен 4.

<img width="897" height="519" alt="image" src="https://github.com/user-attachments/assets/932e8af8-68a7-4416-9b81-fc12319ff26e" />

Уменьшим вес дуг на найденном пути, для дуг, у которых вес стал нулевым, изменим направление

<img width="872" height="502" alt="image" src="https://github.com/user-attachments/assets/de0852f9-4bdb-40de-be15-476474c56190" />

Скорректируем соответствующим образом локальные потоки в исходной сети. Первым числом будем указывать локальный поток, вторым пропускную способность дуги.

<img width="873" height="500" alt="image" src="https://github.com/user-attachments/assets/85bf2adf-b5cb-452e-a62f-d7fe922b4a10" />

Продолжим поиск увеличивающего пути в остаточной сети:

<img width="876" height="502" alt="image" src="https://github.com/user-attachments/assets/b9e530b2-4117-46e4-904e-665fcb9752db" />

В остаточной сети найден увеличивающий путь t -> b -> c -> s.
Минимальный вес дуг на этом пути равен 5.
Уменьшим вес дуг на найденном пути, для дуг, у которых вес стал нулевым, изменим направление

<img width="867" height="479" alt="image" src="https://github.com/user-attachments/assets/82794f23-5d33-4e67-a8c4-8c0b16612afe" />

Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="879" height="488" alt="image" src="https://github.com/user-attachments/assets/e3191008-ad48-4321-b826-94ca2bf1eebe" />

Продолжим поиск увеличивающего пути в остаточной сети:

<img width="878" height="484" alt="image" src="https://github.com/user-attachments/assets/cb5fbc50-d878-478b-b8c5-8a1635df0483" />

В остаточной сети найден увеличивающий путь t -> b -> a -> s.
Минимальный вес дуг на этом пути равен 3.
Уменьшим вес дуг на найденном пути, для дуг, у которых вес стал нулевым, изменим направление

<img width="897" height="513" alt="image" src="https://github.com/user-attachments/assets/c12ad609-02e0-4eb5-b69e-ee7653c6b9a0" />

Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="847" height="457" alt="image" src="https://github.com/user-attachments/assets/4eca5fbb-3eb9-49bc-bd2f-9e2ef935c958" />


Продолжим поиск увеличивающего пути в остаточной сети.

<img width="897" height="513" alt="image" src="https://github.com/user-attachments/assets/8ce9f6a7-ff4a-4a60-ba05-049365fe308d" />

В остаточной сети не найдено увеличивающих путей, следовательно, алгоритм завершил работу и найденный поток величиной 12 является максимальным для данной сети.

<img width="852" height="461" alt="image" src="https://github.com/user-attachments/assets/886ee7f0-0187-4f85-9207-6981b4d08cd4" />

Проверим значение максимального потока перебором всех разрезов сети.

Для сети из 5 вершин нужно найти 2<sup>5 - 2</sup> = 2<sup>3</sup> = 8 разрезов.

| № | V<sub>1</sub>                   | V<sub>2</sub> | Пропускная способность разреза |
|---|:--------------------------------|:--------------|:------------------------------:|
| 1 | s                               | a, b, c, t    |         5 + 4 + 7 = 16         |
| 2 | s, a                            | b, c, t       |         5 + 4 + 6 + 3 + 4 = 22 |
| 3 | s, b                            | a, c, t       |         7 + 5 + 8 = 20         |
| 4 | s, c                            | a, b, t       |         7 + 4 + 9 = 20         |
| 5 | s, a, b                         | c, t          |         5 + 6 + 8 + 4 = 23     |
| 6 | s, a, c                         | b, t          |         9 + 4 + 3 + 4 = 20     |
| 7 | s, b, c                         | a, t          |         7 + 8 = 15             |
| 8 | s, a, b, c                      | t             |         4 + 8 = 12             |


Минимальная пропускная способность разреза равна 12 ( {s, a, b, c} / {t} ), что совпадает с найденной величиной максимального потока в сети.

## Ответ

Максимальный поток в сети равен 12, он реализуется следующим локальными потоками:

<img width="847" height="457" alt="image" src="https://github.com/user-attachments/assets/4c6419e9-f428-4f39-aafb-2cac7ba7d5d2" />

