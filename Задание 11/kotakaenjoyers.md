## Решение задания 11
### Вариант 3:
#### Пропускная способность дуг сети p(e) и стоимость транспортировки  единицы потока c(e):

| Дуги                      | sa | sb | sc | ac | ad | ab | bd | ct | dt |
|:--------------------------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| Пропускная способность    | 9  | 9  | 4  | 6  | 7  | 4  | 7  | 9  | 9  |
| Стоимость транспортировки | 2  | 2  | 7  | 3  | 4  | 2  | 2  | 5  | 2  |

### 1. Найдем максимальный поток сети
 Построим сеть с источником s, стоком t и указанными пропускными способностями дуг для поиска максимального потока

<img width="921" height="501" alt="image" src="https://github.com/user-attachments/assets/fc871f8a-c342-49f6-b817-2f5076827d2a" />

Построим остаточную сеть

<img width="843" height="466" alt="image" src="https://github.com/user-attachments/assets/95103443-d0a4-4f8f-bcb4-3a99c4d3e1b9" />


Найдем увеличивающий путь

<img width="909" height="465" alt="image" src="https://github.com/user-attachments/assets/83531716-4010-4392-b60c-aa1b1ed6ef75" />


В остаточной сети найден увеличивающий путь t -> c -> s. Минимальный вес дуг на этом пути равен 4. Уменьшим вес дуг на найденном пути, для дуг, у которых вес стал нулевым, изменим направление

<img width="995" height="513" alt="image" src="https://github.com/user-attachments/assets/8cf464f6-9824-4007-951d-f8bf2b7fd990" />


Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="910" height="487" alt="image" src="https://github.com/user-attachments/assets/08468b06-cf4f-4b64-9920-ea1eafa58f3f" />


В остаточной сети продолжим поиск увеличивающего пути

<img width="900" height="471" alt="image" src="https://github.com/user-attachments/assets/9ac2fcc5-3ff7-4a76-833a-725e42c18574" />


В остаточной сети найден увеличивающий путь t -> c -> a -> s. Минимальный вес дуг на этом пути равен 5. Уменьшим вес дуг на найденном пути, для дуг, у которых вес стал нулевым, изменим направление

<img width="958" height="505" alt="image" src="https://github.com/user-attachments/assets/605b8488-c853-4834-af73-bb8c2b2fbefb" />


Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="942" height="508" alt="image" src="https://github.com/user-attachments/assets/6937cd4c-eed5-4516-a1a3-30c8827886ba" />


В остаточной сети продолжим поиск увеличивающего пути

<img width="971" height="504" alt="image" src="https://github.com/user-attachments/assets/6f941575-f3cb-48b2-998c-766238c481bf" />


В остаточной сети найден увеличивающий путь t -> d - > b -> s. Минимальный вес дуг на этом пути равен 7. Уменьшим вес дуг на найденном пути, для дуг, у которых вес стал нулевым, изменим направление

<img width="1029" height="525" alt="image" src="https://github.com/user-attachments/assets/d01ca0ac-d82f-422e-aeba-77c89740845a" />


Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="1001" height="507" alt="image" src="https://github.com/user-attachments/assets/0004ccd1-8081-46b3-9f6d-8bb9b4814cb7" />


В остаточной сети продолжим поиск увеличивающего пути

<img width="1002" height="529" alt="image" src="https://github.com/user-attachments/assets/dc157aad-08fc-4c2e-a797-ae9939da7d0b" />


В остаточной сети найден увеличивающий путь t -> d - > a -> s. Минимальный вес дуг на этом пути равен 2. Уменьшим вес дуг на найденном пути, для дуг, у которых вес стал нулевым, изменим направление

<img width="998" height="523" alt="image" src="https://github.com/user-attachments/assets/73e5e30a-ebee-4fd8-b681-edfb446a8f3e" />


Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="1023" height="526" alt="image" src="https://github.com/user-attachments/assets/36e12812-f0e7-4c3f-9c88-731b72aa7d04" />


Продолжим поиск увеличивающих путей в остаточной сети.
В остаточной сети не найдено увеличивающих путей, следовательно, алгоритм завершил работу и найденный поток величиной 18 является максимальным для данной сети.

<img width="1023" height="526" alt="image" src="https://github.com/user-attachments/assets/d96615ad-2c7a-4cb1-8353-8ef057d4a28b" />


### 2. Рассчитаем стоимость полученного максимального потока.


| Дуги                                         | sa | sb | sc | ac | ad | ab | bd | ct | dt | Итого |
|:---------------------------------------------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:-----:|       
| Пропускная способность  p(e)                 | 9  | 9  | 4  | 6  | 7  | 4  | 7  | 9  | 9  |       |
| Локальный поток         f(e)                 | 7  | 7  | 4  | 5  | 2  | 0  | 7  | 9  | 9  |       |
| Стоимость транспортировки единицы потока c(e)| 2  | 2  | 7  | 3  | 4  | 2  | 2  | 5  | 2  |       |
| Суммарная стоимость  f(e)*c(e)               | 14 | 14 | 28 | 15 | 8  | 0  | 14 | 45 | 18 |**156**|

Попробуем уменьшить стоимость потока для чего построим остаточную сеть.
Для каждого ребра остаточной сети укажем стоимость транспортировки единицы потока (красным цветом) и веса дуг (черным цветом).

<img width="1005" height="547" alt="image" src="https://github.com/user-attachments/assets/c5f337ac-647e-4d4a-af56-77a90e72555c" />


В остаточной сети найден ориентированный цикл отрицательной стоимости s -> с -> a -> s (- 7 + 3 + 2 = -2). 
Минимальный вес ребра в цикле 1 - это неиспользованный резерв ребра a -> c.

<img width="985" height="568" alt="image" src="https://github.com/user-attachments/assets/fe288f0a-a523-495d-8533-57d2b2733dfc" />


Удалим найденный цикл - уменьшим на 1 вес всех ребер, входящих в цикл.
Скорректируем остаточную сеть с указанием стоимости транспортировки единицы потока.

<img width="940" height="551" alt="image" src="https://github.com/user-attachments/assets/f3c4b368-dc4e-41ca-92e6-45eea764caf7" />


### 3. Проведем повторный поиск цикла отрицательной стоимости в остаточной сети.

В остаточной сети отсутствуют циклы отрицательной стоимости, следовательно, стоимость потока минимальна.

### 4. Рассчитаем стоимость полученного максимального потока.

| Дуги                                         | sa | sb | sc | ac | ad | ab | bd | ct | dt | Итого |
|:---------------------------------------------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:-----:|       
| Пропускная способность  p(e)                 | 9  | 9  | 4  | 6  | 7  | 4  | 7  | 9  | 9  |       |
| Локальный поток         f(e)                 | 8  | 7  | 3  | 6  | 2  | 0  | 7  | 9  | 9  |       |
| Стоимость транспортировки единицы потока c(e)| 2  | 2  | 7  | 3  | 4  | 2  | 2  | 5  | 2  |       |
| Суммарная стоимость  f(e)*c(e)               | 16 | 14 | 21 | 18 | 8  | 0  | 14 | 45 | 18 |**154**|

Стоимость полученного потока составляет 154. 

### Ответ:
Максимальный поток в сети равен 18, минимальная стоимость потока 154, она реализуется следующим локальными потоками:

<img width="1017" height="591" alt="image" src="https://github.com/user-attachments/assets/31afdc0d-181f-4bc6-966c-a10d7dd36502" />
