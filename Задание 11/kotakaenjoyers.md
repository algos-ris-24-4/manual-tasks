## Решение задания 11
### Вариант 3:
#### Пропускная способность дуг сети p(e) и стоимость транспортировки  единицы потока c(e):

| Дуги                      | sa | sb | sc | ac | ad | ab | bd | ct | dt |
|:--------------------------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| Пропускная способность    | 9  | 9  | 4  | 6  | 7  | 4  | 7  | 9  | 9  |
| Стоимость транспортировки | 2  | 2  | 7  | 3  | 4  | 2  | 2  | 5  | 2  |

### 1. Найдем максимальный поток сети
 Построим сеть с источником s, стоком t и указанными пропускными способностями дуг для поиска максимального потока

ФОТО 1

Построим остаточную сеть

ФОТО 2.1

Найдем увеличивающий путь

ФОТО 2.2

В остаточной сети найден увеличивающий путь t -> c -> s. Минимальный вес дуг на этом пути равен 4. Уменьшим вес дуг на найденном пути, для дуг, у которых вес стал нулевым, изменим направление

ФОТО 3.1

Скорректируем соответствующим образом локальные потоки в исходной сети.

Фото 3.2

В остаточной сети продолжим поиск увеличивающего пути

ФОТО 4.1

В остаточной сети найден увеличивающий путь t -> c -> a -> s. Минимальный вес дуг на этом пути равен 5. Уменьшим вес дуг на найденном пути, для дуг, у которых вес стал нулевым, изменим направление

ФОТО 4.2

Скорректируем соответствующим образом локальные потоки в исходной сети.

ФОТО 4.3

В остаточной сети продолжим поиск увеличивающего пути

ФОТО 5.1

В остаточной сети найден увеличивающий путь t -> d - > b -> s. Минимальный вес дуг на этом пути равен 7. Уменьшим вес дуг на найденном пути, для дуг, у которых вес стал нулевым, изменим направление

ФОТО 5.2

Скорректируем соответствующим образом локальные потоки в исходной сети.

ФОТО 5.3

В остаточной сети продолжим поиск увеличивающего пути

ФОТО 6.1

В остаточной сети найден увеличивающий путь t -> d - > a -> s. Минимальный вес дуг на этом пути равен 2. Уменьшим вес дуг на найденном пути, для дуг, у которых вес стал нулевым, изменим направление

ФОТО 6.2

Скорректируем соответствующим образом локальные потоки в исходной сети.

ФОТО 6.3

Продолжим поиск увеличивающих путей в остаточной сети.
В остаточной сети не найдено увеличивающих путей, следовательно, алгоритм завершил работу и найденный поток величиной 18 является максимальным для данной сети.

ФОТО 6.3

### 2. Рассчитаем стоимость полученного максимального потока.


| Дуги                                         | sa | sb | sc | ac | ad | ab | bd | ct | dt | Итого |
|:---------------------------------------------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:-----:|       
| Пропускная способность  p(e)                 | 9  | 9  | 4  | 6  | 7  | 4  | 7  | 9  | 9  |       |
| Локальный поток         f(e)                 | 7  | 7  | 4  | 5  | 2  | 0  | 7  | 9  | 9  |       |
| Стоимость транспортировки единицы потока c(e)| 2  | 2  | 7  | 3  | 4  | 2  | 2  | 5  | 2  |       |
| Суммарная стоимость  f(e)*c(e)               | 14 | 14 | 28 | 15 | 8  | 0  | 14 | 45 | 18 |**156**|

Попробуем уменьшить стоимость потока для чего построим остаточную сеть.
Для каждого ребра остаточной сети укажем стоимость транспортировки единицы потока (красным цветом) и веса дуг (черным цветом).

ФОТО 7.1

В остаточной сети найден ориентированный цикл отрицательной стоимости s -> с -> a -> s (- 7 + 3 + 2 = -2). 
Минимальный вес ребра в цикле 1 - это неиспользованный резерв ребра a -> c.

Удалим найденный цикл - уменьшим на 1 вес всех ребер, входящих в цикл.
Скорректируем остаточную сеть с указанием стоимости транспортировки единицы потока.

ФОТО 7.3

### 3. Проведем повторный поиск цикла отрицательной стоимости в остаточной сети.

В остаточной сети отсутствуют циклы отрицательной стоимости, следовательно, стоимость потока минимальна.

### 4. Рассчитаем стоимость полученного максимального потока.

| Дуги                                         | sa | sb | sc | ac | ad | ab | bd | ct | dt | Итого |
|:---------------------------------------------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:-----:|       
| Пропускная способность  p(e)                 | 9  | 9  | 4  | 6  | 7  | 4  | 7  | 9  | 9  |       |
| Локальный поток         f(e)                 | 8  | 7  | 3  | 6  | 2  | 0  | 7  | 9  | 9  |       |
| Стоимость транспортировки единицы потока c(e)| 2  | 2  | 7  | 3  | 4  | 2  | 2  | 5  | 2  |       |
| Суммарная стоимость  f(e)*c(e)               | 16 | 14 | 21 | 18 | 8  | 0  | 14 | 45 | 18 |**154**|

Стоимость полученного потока составляет 154. 

### Ответ:
Максимальный поток в сети равен 18, минимальная стоимость потока 154, она реализуется следующим локальными потоками:

ФОТО 8.1