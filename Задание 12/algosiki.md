## Транспортная задача
### Вариант 1

Два завода имеют производительность 5 и 9, а два складских помещения имеют вместимость 7 и 5. Матрица затрат на перевозку одной единицы товара (строки – это заводы, столбцы – это склады) имеет вид:


$$
 \begin{pmatrix}    
  6 & 9 \\ 
  7 & 6 \\ 
 \end{pmatrix}    
$$

Требуется:

1. Найти стоимость перевозки с первого завода на второй склад 5 единиц товара, а со второго завода на первый склад 7 единиц товара;
2. Используя алгоритм поиска максимального потока минимальной стоимости, скорректировать указанный выше вариант перевозки товаров, так чтобы объём перевозимых товаров не изменился, а стоимость их перевозки стала минимальной.

### Решение



1. Построим начальный граф, изобразив на нем текущий поток и пропускную способность каждой дуги (ребра).

Рисунок 1


2. Пускаем поток, согласно условию: на второй склад 5 единиц товара, а со второго завода на первый склад 7 единиц товара.

Рисунок 2


Считаем стоимость перевозки:

$$
5 * 9 + 7 * 7 + 0 * 6 + 0 * 6= 94
$$

Пока еще непонятно, окончательный это ответ или нет. Поэтому применяем алгоритм поиска максимального потока минимальной стоимости.


3. Строим остаточную сеть.

Рисунок 3


4. Прописываем стоимости каждой дуги. В графе ищем цикл отрицательной стоимости.

Рисунок 4


Цикл был найден: B -> 1 -> A -> 2 -> B (- 7 + 6 - 9 + 6 = -4).
Если был найден цикл, значит, есть меньшая стоимость.


5. Корректируем текущий граф. В цикле отрицательной стоимости минимальный вес ребра составил 5 (1 -> А, A -> 2, 2 -> B). Ниже представлен граф с измененными весами дуг.

Рисунок 5


6. Еще раз ищем цикл отрицательной стоимости. Снова выносим стоимости дуг.

Рисунок 6


В графе нет циклов с отрицательной стоимостью - нельзя сделать стоимость меньше. Значит, текущая стоимость минимальная.

Считаем стоимость:

$$
2 * 7 + 5 * 6 + 5 * 6 + 0 * 9 = 74
$$


### Ответ

Получившийся план перевозки:
С первого завода на второй склад 5 единиц товара, а со второго завода на первый склад - 7 единиц товара.
Минимальная стоимость составит 74 условных единиц.

Итоговый граф представлен ниже:

Рисунок 7


### Проверка

После того как мы наши цикл отрицательной стоимости (который составил -4 у.е.), мы уменьшили стоимость на -4 * 5 = 20. Начальная стоимость была 94 условных единиц. После изменения она должна стать 94 - 20 = 74. 74 = 74 (верно!)