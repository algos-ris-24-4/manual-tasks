# Решение транспортной задачи
### Вариант 3:

Два завода имеют производительность 7 и 10, а два складских помещения имеют вместимость 8 и 11. Матрица затрат на перевозку одной единицы товара (строки – это заводы, столбцы – это склады) имеет вид:

$$
 \begin{pmatrix}    
  3 & 5 \\ 
  1 & 4 \\ 
 \end{pmatrix}    
$$

Требуется:
1. Найти стоимость перевозки с первого завода на первый склад 7 единиц товара, а со второго завода на второй склад 8 единиц товара;
2. Используя алгоритм поиска максимального потока минимальной стоимости, скорректировать указанный выше вариант перевозки товаров, так чтобы объём перевозимых товаров не изменился, а стоимость их перевозки стала минимальной.

### Решение
1. Найдем стоимость перевозки с первого завода на первый склад 7 единиц товара, а со второго завода на второй склад 8 единиц товара:

$$
7 * 3 + 8 * 4 = 53
$$

2. Используя алгоритм поиска максимального потока минимальной стоимости, скорректируем указанный выше вариант перевозки товаров, так чтобы объём перевозимых товаров не изменился, а стоимость их перевозки стала минимальной.

2.1 Построим сеть с вершинами A, B, 1, 2 и подпишем пропускные способности, локальные потоки в соответствии с условием:

<img width="576" height="300" alt="image" src="https://github.com/user-attachments/assets/dff63471-55de-4c28-b487-581c96dc8e4d" />


2.2 Текущая стоимость составляет 53. Построим остаточную сеть и подпишем стоимость перевозки 1 ед. товара для каждой дуги красным цветом.

<img width="643" height="313" alt="image" src="https://github.com/user-attachments/assets/03de0bbe-67b6-463d-824c-f9740efdc569" />


Начнем поиск цикла отрицательной стоимости

2.3 В остаточной сети найден ориентированный цикл отрицательной стоимости A -> 1 -> B -> 2 -> A (- 3 + 1 - 4 + 5 = -1). 
Минимальный вес ребра в цикле 7 (A -> 1 и 2 -> A)

<img width="617" height="301" alt="image" src="https://github.com/user-attachments/assets/e633b9df-26cc-4237-b193-a72654c4c90e" />

2.4 Удалим найденный цикл - уменьшим на 7 вес всех ребер, входящих в цикл.
Скорректируем остаточную сеть с указанием стоимости транспортировки единицы потока.

<img width="570" height="309" alt="image" src="https://github.com/user-attachments/assets/3ebf4bb4-eac3-4554-88bc-e1eb5220fab5" />


2.5 Проведем повторный поиск цикла отрицательной стоимости в остаточной сети.

В остаточной сети найден ориентированный цикл отрицательной стоимости B -> 2 -> t -> 1 -> B (- 4 + 0 + 0 + 1 = -3). 
Минимальный вес ребра в цикле 1 (t -> 1, 1 -> B и B -> 2)

<img width="973" height="498" alt="image" src="https://github.com/user-attachments/assets/80eebf0f-f9f0-4d52-b871-339201add34e" />

2.6 Удалим найденный цикл - уменьшим на 1 вес всех ребер, входящих в цикл.
Скорректируем остаточную сеть с указанием стоимости транспортировки единицы потока.

<img width="804" height="409" alt="image" src="https://github.com/user-attachments/assets/6eb6ec54-10c3-40d8-a76b-fc3a533d5bdf" />


2.7 Проведем повторный поиск цикла отрицательной стоимости в остаточной сети.
В остаточной сети отсутствуют циклы отрицательной стоимости, следовательно, стоимость потока минимальна.

Получившаяся стоимость:

$$
7 * 5 + 8 * 1 = 43
$$

### Ответ
Получившийся план перевозок:
с первого завода на второй склад 7 единиц товара, а со второго завода на первый склад 8 единиц товара. При таком варианте стоимость будет минимальной и составит 43.
