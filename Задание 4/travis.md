# Вариант 4 — Полное решение

## 4.1 Задача о распределении инвестиций между проектами

### Исходные данные

| Вложения, $ | A  | B  | C  | D  |
|-------------|----|----|----|----|
| 10          | 8  | 7  | 5  | 6  |
| 20          | 11 | 8  | 7  | 10 |
| 30          | 13 | 13 | 10 | 11 |
| 40          | 17 | 16 | 15 | 13 |
| 50          | 21 | 18 | 20 | 19 |

Общий бюджет — **50 $**.  
Разрешённые вложения в каждый проект: 0, 10, 20, 30, 40 или 50 $ (только одна сумма на проект).  
Сумма вложений должна быть ровно 50 $.

### Пошаговое решение с последовательными сравнениями

#### Шаг 1. Сравнение A и B (кто выгоднее при одинаковых вложениях)

| Вложения | Прибыль A | Прибыль B | Лучший     |
|----------|-----------|-----------|------------|
| 10       | 8         | 7         | **A** (+1) |
| 20       | 11        | 8         | **A** (+3) |
| 30       | 13        | 13        | **Равно**  |
| 40       | 17        | 16        | **A** (+1) |
| 50       | 21        | 18        | **A** (+3) |

**Вывод:** A почти всегда лучше B → B будем использовать только в редких случаях.

#### Шаг 2. Сравнение лучших из A/B с проектом C

| Вложения | Лучшее из A/B | Прибыль C | Лучший      |
|----------|----------------|-----------|-------------|
| 10       | 8 (A)          | 5         | **A/B**     |
| 20       | 11 (A)         | 7         | **A/B**     |
| 30       | 13 (A или B)   | 10        | **A/B**     |
| 40       | 17 (A)         | 15        | **A/B**     |
| 50       | 21 (A)         | 20        | **A/B**     |

**Вывод:** C всегда хуже лучшего из A/B.

#### Шаг 3. Сравнение лучших из A/B/C с проектом D

| Вложения | Лучшее из A/B/C | Прибыль D | Лучший     |
|----------|------------------|-----------|------------|
| 10       | 8 (A)            | 6         | **A/B/C**  |
| 20       | 11 (A)           | 10        | **A/B/C**  |
| 30       | 13               | 11        | **A/B/C**  |
| 40       | 17 (A)           | 13        | **A/B/C**  |
| 50       | 21 (A)           | 19        | **A/B/C**  |

**Вывод:** D выигрывает только на 20 $ (10 единиц прибыли).

#### Шаг 4. Поиск максимальной прибыли

После анализа стало очевидно, что самые «жирные» куски — это маленькие вложения в A, B, C и особенно 20 $ в D.

Проверяем комбинацию **10 + 10 + 10 + 20**:

- A = 10 $ → 8  
- B = 10 $ → 7  
- C = 10 $ → 5  
- D = 20 $ → 10  

**Итого прибыль = 8 + 7 + 5 + 10 = 30**

Проверяем, можно ли больше:

| Комбинация               | Прибыль |
|----------------------------------|---------|
| A=50                             | 21      |
| A=40 + D=10                      | 17+6=23 |
| A=30 + D=20                      | 13+10=23|
| A=20 + B=20 + D=10               | 11+8+6=25 |
| A=20 + C=20 + D=10               | 11+7+6=24 |
| A=30 + B=10 + C=10               | 13+7+5=25 |

**Никакая другая комбинация не даёт больше 30.**

### Итоговое оптимальное решение

**Максимальная прибыль = 30**

**Оптимальное распределение:**

| Проект | Вложения, $ | Прибыль |
|--------|-------------|---------|
| A      | 10          | 8       |
| B      | 10          | 7       |
| C      | 10          | 5       |
| D      | 20          | 10      |

**Итого вложено:** 10 + 10 + 10 + 20 = 50 $  
**Итого прибыль:** 8 + 7 + 5 + 10 = **30**

---

## 4.2 Конвейерная задача (алгоритм Джонсона)

### Исходные данные (9 заданий)

| Задание | 1-й этап (aᵢ) | 2-й этап (bᵢ) |
|---------|---------------|---------------|
| 1       | 3             | 2             |
| 2       | 3             | 1             |
| 3       | 8             | 9             |
| 4       | 4             | 2             |
| 5       | 6             | 6             |
| 6       | 7             | 9             |
| 7       | 12            | 5             |
| 8       | 6             | 7             |
| 9       | 5             | 6             |

### Пошаговое применение алгоритма Джонсона

1. **Разбиение на группы**  
   - N1 (aᵢ ≤ bᵢ): **3, 5, 6, 8, 9**  
   - N2 (aᵢ > bᵢ): **1, 2, 4, 7**

2. **Сортировка N1 по возрастанию aᵢ**  
   9 (5) → 5 (6) → 8 (6) → 6 (7) → 3 (8)



3. **Сортировка N2 по убыванию bᵢ**  
   7 (5) → 4 (2) → 1 (2) → 2 (1)  
   (при равных bᵢ ставим большее aᵢ первым: 4 > 1)

4. **Оптимальная последовательность**  
   **9 → 5 → 8 → 6 → 3 → 7 → 4 → 1 → 2**

### Расчёт времени выполнения

| Задание | Начало 1 | Окончание 1 | Начало 2 | Окончание 2 |
|---------|----------|-------------|----------|-------------|
| 9       | 0        | 5           | 5        | 11          |
| 5       | 5        | 11          | 11       | 17          |
| 8       | 11       | 17          | 17       | 24          |
| 6       | 17       | 24          | 24       | 33          |
| 3       | 24       | 32          | 33       | 42          |
| 7       | 32       | 44          | 44       | 49          |
| 4       | 44       | 48          | 49       | 51          |
| 1       | 48       | 51          | 51       | 53          |
| 2       | 51       | 54          | 54       | **55**      |

**Минимальное время выполнения (makespan) = 55**

### Диаграмма Ганта

```mermaid
gantt
    title Вариант 4 — Конвейерная задача (makespan = 55)
    dateFormat  X
    axisFormat  %S
    todayMarker off

    section Исполнитель 1
    9  :0, 5
    5  :5, 11
    8  :11, 17
    6  :17, 24
    3  :24, 32
    7  :32, 44
    4  :44, 48
    1  :48, 51
    2  :51, 54

    section Исполнитель 2
    9  :5, 11
    5  :11, 17
    8  :17, 24
    6  :24, 33
    3  :33, 42
    7  :44, 49
    4  :49, 51
    1  :51, 53
    2  :54, 55
