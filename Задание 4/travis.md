# Решение задачи 4 варианта 4 команды travis

Задача 4.1
Для решения используем динамическое программирование. Определим **DP[i][j]** как максимальную прибыль, используя первые **i** проектов при бюджете **j × 100** (работаем в единицах по 100, так что **j = 0..5**, где 5 соответствует 500 тыс. ₽).

### Прибыли (включая 0):

- **A:** [0, 6, 8, 18, 21, 25]  
- **B:** [0, 7, 9, 12, 19, 23]  
- **C:** [0, 5, 11, 17, 20, 20]  
- **D:** [0, 5, 8, 14, 18, 26]

**Инициализация:**  
`DP[0][j] = 0` для всех `j = 0..5`.

### Добавляем проект A (i=1)
Для каждого j вычисляем  
`max_{k=0..min(j,5)} (DP[0][j−k] + прибыль_A[k])`

- j=0: 0  
- j=1: max(0, 6) = **6**  
- j=2: max(0, 6, 8) = **8**  
- j=3: max(0, 6, 8, 18) = **18**  
- j=4: max(0, 6, 8, 18, 21) = **21**  
- j=5: max(0, 6, 8, 18, 21, 25) = **25**

**DP[1]:** [0, 6, 8, 18, 21, 25]

### Добавляем проект B (i=2)

- j=0: 0  
- j=1: max(6+0, 0+7) = **7**  
- j=2: max(8+0, 6+7, 0+9) = **13**  
- j=3: max(18+0, 8+7, 6+9, 0+12) = **18**  
- j=4: max(21+0, 18+7, 8+9, 6+12, 0+19) = **25**  
- j=5: max(25+0, 21+7, 18+9, 8+12, 6+19, 0+23) = **28**

**DP[2]:** [0, 7, 13, 18, 25, 28]

### Добавляем проект C (i=3)

- j=0: 0  
- j=1: max(7+0, 0+5) = **7**  
- j=2: max(13+0, 7+5, 0+11) = **13**  
- j=3: max(18+0, 13+5, 7+11, 0+17) = **18**  
- j=4: max(25+0, 18+5, 13+11, 7+17, 0+20) = **25**  
- j=5: max(28+0, 25+5, 18+11, 13+17, 7+20, 0+20) = **30**

**DP[3]:** [0, 7, 13, 18, 25, 30]

### Добавляем проект D (i=4)

- j=0: 0  
- j=1: max(7+0, 0+5) = **7**  
- j=2: max(13+0, 7+5, 0+8) = **13**  
- j=3: max(18+0, 13+5, 7+8, 0+14) = **18**  
- j=4: max(25+0, 18+5, 13+8, 7+14, 0+18) = **25**  
- j=5: max(30+0, 25+5, 18+8, 13+14, 7+18, 0+26) = **30**

**DP[4]:** [0, 7, 13, 18, 25, 30]

**Максимальная прибыль: 30** (при бюджете 500 тыс. ₽).

### Восстановление распределения

Одно из возможных распределений (существует несколько эквивалентных):

- Проект A: **300** (прибыль 18)  
- Проект B: **100** (прибыль 7)  
- Проект C: **100** (прибыль 5)  
- Проект D: **0** (прибыль 0)

**Общая сумма инвестиций:** 300 + 100 + 100 + 0 = **500** тыс. ₽  
**Общая прибыль:** 18 + 7 + 5 + 0 = **30** тыс. ₽

**Альтернативы (также дают 30):**  
- A=100, B=100, C=300, D=0  
- A=300, B=100, C=0, D=100  

Все перечисленные комбинации являются оптимальными.

**Итоговый ответ: максимальная прибыль — 30 тыс. ₽**



## 4.2 Конвейерная задача (алгоритм Джонсона)

**Исходные данные**

| Задание | aᵢ (1-й исполнитель) | bᵢ (2-й исполнитель) |
|---------|-----------------------|-----------------------|
| A       | 3                     | 5                     |
| B       | 5                     | 1                     |
| C       | 1                     | 2                     |
| D       | 2                     | 5                     |
| E       | 5                     | 4                     |
| F       | 3                     | 6                     |
| G       | 4                     | 1                     |
| H       | 6                     | 8                     |

### Пошаговое применение алгоритма Джонсона

1. **Разбиение на группы**  
   - N1 (aᵢ ≤ bᵢ): **C, D, A, F, H**  
   - N2 (aᵢ > bᵢ): **B, E, G**

2. **Сортировка N1 по возрастанию aᵢ**  
   C (1) → D (2) → A (3) → F (3) → H (6)

3. **Сортировка N2 по убыванию bᵢ**  
   E (4) → B (1) → G (1)

4. **Оптимальная последовательность**  
   **C → D → A → F → H → E → B → G**

### Расчёт времени выполнения

| Задание | Начало 1 | Окончание 1 | Начало 2 | Окончание 2 |
|---------|----------|-------------|----------|-------------|
| C       | 0        | 1           | 1        | 3           |
| D       | 1        | 3           | 3        | 8           |
| A       | 3        | 6           | 8        | 13          |
| F       | 6        | 9           | 13       | 19          |
| H       | 9        | 15          | 19       | 27          |
| E       | 15       | 20          | 27       | 31          |
| B       | 20       | 25          | 31       | 32          |
| G       | 25       | 29          | 32       | **33**      |

**Минимальное время выполнения (makespan) = 33**

### Диаграмма Ганта

```mermaid
gantt
    title Конвейерная задача — оптимальное расписание (makespan = 33)
    dateFormat  X
    axisFormat  %S
    todayMarker off

    section Исполнитель 1
    C  :0, 1
    D  :1, 3
    A  :3, 6
    F  :6, 9
    H  :9, 15
    E  :15, 20
    B  :20, 25
    G  :25, 29

    section Исполнитель 2
    C  :1, 3
    D  :3, 8
    A  :8, 13
    F  :13, 19
    H  :19, 27
    E  :27, 31
    B  :31, 32
    G  :32, 33



